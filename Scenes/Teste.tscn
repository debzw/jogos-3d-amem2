[gd_scene load_steps=14 format=2]

[ext_resource path="res://Scripts/Torreta.gd" type="Script" id=1]
[ext_resource path="res://Scenes/Enemy.tscn" type="PackedScene" id=2]
[ext_resource path="res://Models/Base.obj" type="ArrayMesh" id=3]
[ext_resource path="res://Models/Ground_errado.obj" type="ArrayMesh" id=4]
[ext_resource path="res://Models/Torreta.obj" type="ArrayMesh" id=5]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( -29.4171, -0.98665, -70.1339, -28.8171, -0.98665, -70.1339, -28.9171, -0.98665, -73.034, -33.2171, -0.98665, -68.2339, -29.4171, -0.98665, -70.1339, -28.9171, -0.98665, -73.034, -39.3171, -0.98665, -73.034, -70.5171, -0.98665, -29.034, -70.5171, -0.98665, -22.734, -35.3171, -0.98665, -22.734, -35.3171, -0.98665, -33.1339, -35.3171, -0.98665, -64.2339, -33.2171, -0.98665, -68.2339, -39.3171, -0.98665, -73.034, -60.1171, -0.98665, -73.034, -70.5171, -0.98665, -73.034, -70.5171, -0.98665, -66.834, -60.1171, -0.98665, -73.034, -70.5171, -0.98665, -66.834, -70.5171, -0.98665, -60.534, -35.3171, -0.98665, -64.2339, -39.3171, -0.98665, -73.034, -49.7171, -0.98665, -73.034, -35.3171, -0.98665, -53.934, -60.1171, -0.98665, -73.034, -70.5171, -0.98665, -60.534, -70.5171, -0.98665, -54.2339, -70.5171, -0.98665, -35.334, -35.3171, -0.98665, -33.1339, -35.3171, -0.98665, -43.534, -70.5171, -0.98665, -41.6339, -60.1171, -0.98665, -73.034, -70.5171, -0.98665, -54.2339, -70.5171, -0.98665, -47.934, -35.3171, -0.98665, -53.934, -49.7171, -0.98665, -73.034, -60.1171, -0.98665, -73.034, -70.5171, -0.98665, -47.934, -70.5171, -0.98665, -41.6339, -35.3171, -0.98665, -43.534, -70.5171, -0.98665, -35.334, -70.5171, -0.98665, -29.034, -35.3171, -0.98665, -33.1339, -28.8171, -0.98665, -70.1339, -21.7171, -0.98665, -70.1339, -21.6171, -0.98665, -73.034, -28.9171, -0.98665, -73.034, -21.6171, -0.98665, -73.034, -21.7171, -0.98665, -70.1339, -21.1171, -0.98665, -70.1339, -21.6171, -0.98665, -73.034, -21.1171, -0.98665, -70.1339, -17.3171, -0.98665, -68.2339, -14.4171, -0.98665, -73.034, -15.2171, -0.98665, -46.1339, 10.4829, -0.98665, -27.9339, 16.8829, -0.98665, -27.9339, -14.4171, -0.98665, -73.034, -17.3171, -0.98665, -68.2339, -15.2171, -0.98665, -64.2339, -7.11712, -0.98665, -73.034, -15.2171, -0.98665, -37.034, -15.2171, -0.98665, -27.9339, -8.81712, -0.98665, -27.9339, 14.5829, -0.98665, -73.034, -15.2171, -0.98665, -55.2339, -15.2171, -0.98665, -46.1339, 16.8829, -0.98665, -27.9339, 23.3829, -0.98665, -27.9339, 21.8829, -0.98665, -73.034, -15.2171, -0.98665, -37.034, -8.81712, -0.98665, -27.9339, -2.41712, -0.98665, -27.9339, 0.0828781, -0.98665, -73.034, -7.11712, -0.98665, -73.034, -15.2171, -0.98665, -64.2339, -15.2171, -0.98665, -37.034, -2.41712, -0.98665, -27.9339, 3.98288, -0.98665, -27.9339, 0.0828781, -0.98665, -73.034, -15.2171, -0.98665, -64.2339, -15.2171, -0.98665, -55.2339, 7.38288, -0.98665, -73.034, -15.2171, -0.98665, -46.1339, -15.2171, -0.98665, -37.034, 3.98288, -0.98665, -27.9339, 10.4829, -0.98665, -27.9339, 23.3829, -0.98665, -27.9339, 29.7829, -0.98665, -27.9339, 29.0829, -0.98665, -73.034, 21.8829, -0.98665, -73.034, 29.7829, -0.98665, -27.9339, 36.2829, -0.98665, -27.9339, 36.3829, -0.98665, -73.034, 29.0829, -0.98665, -73.034, 14.5829, -0.98665, -73.034, 7.38288, -0.98665, -73.034, -15.2171, -0.98665, -55.2339, 67.4829, -0.98665, -66.6339, 67.4829, -0.98665, -73.034, 59.6829, -0.98665, -73.034, 67.4829, -0.98665, -60.2339, 67.4829, -0.98665, -66.6339, 59.6829, -0.98665, -73.034, 67.4829, -0.98665, -60.2339, 59.6829, -0.98665, -73.034, 51.8829, -0.98665, -73.034, 67.4829, -0.98665, -53.834, 42.7829, -0.98665, -22.034, 42.7829, -0.98665, -21.4339, 67.4829, -0.98665, -21.534, 67.4829, -0.98665, -28.034, 67.4829, -0.98665, -47.334, 67.4829, -0.98665, -53.834, 51.8829, -0.98665, -73.034, 44.0829, -0.98665, -73.034, 40.6829, -0.98665, -26.034, 67.4829, -0.98665, -34.4339, 67.4829, -0.98665, -40.9339, 36.8829, -0.98665, -27.9339, 40.6829, -0.98665, -26.034, 42.7829, -0.98665, -22.034, 67.4829, -0.98665, -28.034, 67.4829, -0.98665, -34.4339, 36.2829, -0.98665, -27.9339, 36.8829, -0.98665, -27.9339, 67.4829, -0.98665, -40.9339, 67.4829, -0.98665, -47.334, 44.0829, -0.98665, -73.034, 36.3829, -0.98665, -73.034, -29.9171, -0.98665, -13.7339, -29.9171, -0.98665, -16.334, -33.4171, -0.98665, -18.1339, -28.0171, -0.98665, -9.93395, -29.9171, -0.98665, -13.7339, -33.4171, -0.98665, -18.1339, -28.6171, -0.98665, 16.066, -26.5171, -0.98665, 12.066, -22.7171, -0.98665, 10.1661, -21.9171, -0.98665, 10.1661, -21.9171, -0.98665, -7.83395, -24.0171, -0.98665, -7.83395, -35.3171, -0.98665, -21.9339, -35.3171, -0.98665, -22.734, -70.5171, -0.98665, -22.734, -70.5171, -0.98665, -12.934, -26.5171, -0.98665, 12.066, -22.7171, -0.98665, 10.1661, -24.0171, -0.98665, -7.83395, -28.0171, -0.98665, -9.93395, -70.5171, -0.98665, 6.66605, -70.5171, -0.98665, 16.566, -28.6171, -0.98665, 16.6661, -28.6171, -0.98665, 16.6661, -28.6171, -0.98665, 16.066, -33.4171, -0.98665, -18.1339, -70.5171, -0.98665, -3.13395, -70.5171, -0.98665, 6.66605, -33.4171, -0.98665, -18.1339, -35.3171, -0.98665, -21.9339, -70.5171, -0.98665, -12.934, -70.5171, -0.98665, -3.13395, 42.7829, -0.98665, -21.4339, 42.7829, -0.98665, -14.3339, 67.4829, -0.98665, -14.2339, 67.4829, -0.98665, -21.534, -8.51712, -0.98665, 58.7661, -8.51712, -0.98665, 64.966, 0.98288, -0.98665, 64.966, 57.9829, -0.98665, 64.966, 67.4829, -0.98665, 64.966, 67.4829, -0.98665, 55.0661, -8.51712, -0.98665, 52.666, -8.51712, -0.98665, 58.7661, 0.98288, -0.98665, 64.966, -15.2171, -0.98665, -7.83395, -15.2171, -0.98665, 10.1661, -14.4171, -0.98665, 10.1661, -8.71712, -0.98665, -7.83395, 23.7829, -0.98665, -7.83395, 17.2829, -0.98665, -7.83395, -8.51712, -0.98665, 22.1661, -8.51712, -0.98665, 28.2661, -8.71712, -0.98665, -7.83395, -14.4171, -0.98665, 10.1661, -10.6171, -0.98665, 12.066, -2.21712, -0.98665, -7.83395, -8.51712, -0.98665, 46.566, -8.51712, -0.98665, 52.666, 0.98288, -0.98665, 64.966, 48.4829, -0.98665, 64.966, 57.9829, -0.98665, 64.966, 67.4829, -0.98665, 55.0661, 67.4829, -0.98665, 15.466, 67.4829, -0.98665, 5.56605, 36.8829, -0.98665, -7.83395, 30.2829, -0.98665, -7.83395, 67.4829, -0.98665, -14.2339, 42.7829, -0.98665, -14.3339, 42.7829, -0.98665, -13.7339, -2.21712, -0.98665, -7.83395, -10.6171, -0.98665, 12.066, -8.51712, -0.98665, 16.066, 4.28288, -0.98665, -7.83395, -8.51712, -0.98665, 40.466, -8.51712, -0.98665, 46.566, 0.98288, -0.98665, 64.966, 67.4829, -0.98665, -4.33395, 67.4829, -0.98665, -14.2339, 42.7829, -0.98665, -13.7339, 40.8829, -0.98665, -9.93395, 67.4829, -0.98665, 15.466, 30.2829, -0.98665, -7.83395, 23.7829, -0.98665, -7.83395, 67.4829, -0.98665, 25.3661, 38.9829, -0.98665, 64.966, 67.4829, -0.98665, 45.1661, 67.4829, -0.98665, 35.2661, 29.4829, -0.98665, 64.966, 48.4829, -0.98665, 64.966, 67.4829, -0.98665, 55.0661, 67.4829, -0.98665, 45.1661, 38.9829, -0.98665, 64.966, 10.7829, -0.98665, -7.83395, 4.28288, -0.98665, -7.83395, -8.51712, -0.98665, 16.066, 67.4829, -0.98665, 5.56605, 67.4829, -0.98665, -4.33395, 40.8829, -0.98665, -9.93395, 36.8829, -0.98665, -7.83395, -8.51712, -0.98665, 40.466, 0.98288, -0.98665, 64.966, 10.4829, -0.98665, 64.966, -8.51712, -0.98665, 34.3661, -8.51712, -0.98665, 28.2661, 19.9829, -0.98665, 64.966, 29.4829, -0.98665, 64.966, 67.4829, -0.98665, 35.2661, 67.4829, -0.98665, 25.3661, 23.7829, -0.98665, -7.83395, -8.51712, -0.98665, 28.2661, -8.51712, -0.98665, 34.3661, 10.4829, -0.98665, 64.966, 19.9829, -0.98665, 64.966, 17.2829, -0.98665, -7.83395, 10.7829, -0.98665, -7.83395, -8.51712, -0.98665, 16.066, -8.51712, -0.98665, 22.1661, -21.9171, -0.98665, 10.1661, -15.2171, -0.98665, 10.1661, -15.2171, -0.98665, -7.83395, -21.9171, -0.98665, -7.83395, -70.5171, -0.98665, 58.8661, -70.5171, -0.98665, 64.966, -60.1171, -0.98665, 64.966, -39.1171, -0.98665, 64.966, -28.6171, -0.98665, 64.966, -28.6171, -0.98665, 58.8661, -70.5171, -0.98665, 52.8661, -70.5171, -0.98665, 58.8661, -60.1171, -0.98665, 64.966, -39.1171, -0.98665, 64.966, -28.6171, -0.98665, 58.8661, -28.6171, -0.98665, 52.8661, -70.5171, -0.98665, 46.7661, -70.5171, -0.98665, 52.8661, -60.1171, -0.98665, 64.966, -39.1171, -0.98665, 64.966, -28.6171, -0.98665, 52.8661, -28.6171, -0.98665, 46.7661, -70.5171, -0.98665, 40.7661, -70.5171, -0.98665, 46.7661, -60.1171, -0.98665, 64.966, -39.1171, -0.98665, 64.966, -28.6171, -0.98665, 46.7661, -28.6171, -0.98665, 40.7661, -70.5171, -0.98665, 40.7661, -60.1171, -0.98665, 64.966, -49.6171, -0.98665, 64.966, -70.5171, -0.98665, 34.6661, -49.6171, -0.98665, 64.966, -39.1171, -0.98665, 64.966, -28.6171, -0.98665, 40.7661, -28.6171, -0.98665, 34.6661, -28.6171, -0.98665, 16.6661, -70.5171, -0.98665, 16.566, -70.5171, -0.98665, 22.566, -70.5171, -0.98665, 22.566, -70.5171, -0.98665, 28.6661, -28.6171, -0.98665, 28.6661, -28.6171, -0.98665, 16.6661, -70.5171, -0.98665, 28.6661, -70.5171, -0.98665, 34.6661, -49.6171, -0.98665, 64.966, -28.6171, -0.98665, 34.6661, -28.6171, -0.98665, 28.6661 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 4, 3, 5 ), PoolIntArray( 5, 3, 6 ), PoolIntArray( 8, 7, 9 ), PoolIntArray( 9, 7, 10 ), PoolIntArray( 13, 12, 11 ), PoolIntArray( 16, 15, 14 ), PoolIntArray( 19, 18, 17 ), PoolIntArray( 21, 20, 22 ), PoolIntArray( 22, 20, 23 ), PoolIntArray( 26, 25, 24 ), PoolIntArray( 30, 29, 27 ), PoolIntArray( 27, 29, 28 ), PoolIntArray( 31, 33, 32 ), PoolIntArray( 35, 34, 36 ), PoolIntArray( 36, 34, 39 ), PoolIntArray( 36, 39, 37 ), PoolIntArray( 37, 39, 38 ), PoolIntArray( 42, 41, 40 ), PoolIntArray( 43, 46, 44 ), PoolIntArray( 44, 46, 45 ), PoolIntArray( 49, 48, 47 ), PoolIntArray( 51, 50, 52 ), PoolIntArray( 52, 50, 53 ), PoolIntArray( 56, 55, 54 ), PoolIntArray( 58, 57, 59 ), PoolIntArray( 59, 57, 60 ), PoolIntArray( 63, 62, 61 ), PoolIntArray( 64, 69, 65 ), PoolIntArray( 65, 69, 66 ), PoolIntArray( 66, 69, 67 ), PoolIntArray( 67, 69, 68 ), PoolIntArray( 72, 71, 70 ), PoolIntArray( 75, 74, 73 ), PoolIntArray( 78, 77, 76 ), PoolIntArray( 79, 82, 80 ), PoolIntArray( 80, 82, 81 ), PoolIntArray( 85, 84, 86 ), PoolIntArray( 86, 84, 83 ), PoolIntArray( 88, 87, 89 ), PoolIntArray( 89, 87, 90 ), PoolIntArray( 92, 91, 93 ), PoolIntArray( 93, 91, 94 ), PoolIntArray( 97, 96, 95 ), PoolIntArray( 100, 99, 98 ), PoolIntArray( 101, 103, 102 ), PoolIntArray( 104, 107, 105 ), PoolIntArray( 105, 107, 106 ), PoolIntArray( 109, 108, 110 ), PoolIntArray( 110, 108, 111 ), PoolIntArray( 113, 112, 114 ), PoolIntArray( 114, 112, 115 ), PoolIntArray( 116, 119, 117 ), PoolIntArray( 117, 119, 118 ), PoolIntArray( 121, 120, 122 ), PoolIntArray( 122, 120, 123 ), PoolIntArray( 125, 124, 126 ), PoolIntArray( 126, 124, 127 ), PoolIntArray( 127, 124, 128 ), PoolIntArray( 128, 124, 129 ), PoolIntArray( 132, 131, 130 ), PoolIntArray( 134, 133, 135 ), PoolIntArray( 135, 133, 137 ), PoolIntArray( 135, 137, 136 ), PoolIntArray( 139, 138, 140 ), PoolIntArray( 140, 138, 141 ), PoolIntArray( 143, 142, 144 ), PoolIntArray( 144, 142, 145 ), PoolIntArray( 147, 146, 148 ), PoolIntArray( 148, 146, 149 ), PoolIntArray( 152, 151, 150 ), PoolIntArray( 154, 153, 155 ), PoolIntArray( 155, 153, 156 ), PoolIntArray( 156, 153, 157 ), PoolIntArray( 159, 158, 160 ), PoolIntArray( 160, 158, 161 ), PoolIntArray( 162, 165, 163 ), PoolIntArray( 163, 165, 164 ), PoolIntArray( 168, 167, 166 ), PoolIntArray( 171, 170, 169 ), PoolIntArray( 174, 173, 172 ), PoolIntArray( 176, 175, 177 ), PoolIntArray( 177, 175, 178 ), PoolIntArray( 181, 180, 182 ), PoolIntArray( 182, 180, 179 ), PoolIntArray( 184, 183, 185 ), PoolIntArray( 185, 183, 186 ), PoolIntArray( 189, 188, 187 ), PoolIntArray( 192, 191, 190 ), PoolIntArray( 195, 194, 196 ), PoolIntArray( 196, 194, 193 ), PoolIntArray( 199, 198, 197 ), PoolIntArray( 201, 200, 202 ), PoolIntArray( 202, 200, 203 ), PoolIntArray( 206, 205, 204 ), PoolIntArray( 209, 208, 210 ), PoolIntArray( 210, 208, 207 ), PoolIntArray( 212, 211, 213 ), PoolIntArray( 213, 211, 214 ), PoolIntArray( 216, 215, 217 ), PoolIntArray( 217, 215, 218 ), PoolIntArray( 220, 219, 221 ), PoolIntArray( 221, 219, 222 ), PoolIntArray( 225, 224, 223 ), PoolIntArray( 228, 227, 229 ), PoolIntArray( 229, 227, 226 ), PoolIntArray( 230, 233, 231 ), PoolIntArray( 231, 233, 232 ), PoolIntArray( 235, 234, 236 ), PoolIntArray( 236, 234, 239 ), PoolIntArray( 236, 239, 237 ), PoolIntArray( 237, 239, 238 ), PoolIntArray( 241, 240, 242 ), PoolIntArray( 242, 240, 243 ), PoolIntArray( 245, 244, 246 ), PoolIntArray( 246, 244, 247 ), PoolIntArray( 251, 250, 248 ), PoolIntArray( 248, 250, 249 ), PoolIntArray( 252, 254, 253 ), PoolIntArray( 257, 256, 255 ), PoolIntArray( 260, 259, 258 ), PoolIntArray( 263, 262, 261 ), PoolIntArray( 266, 265, 264 ), PoolIntArray( 269, 268, 267 ), PoolIntArray( 272, 271, 270 ), PoolIntArray( 275, 274, 273 ), PoolIntArray( 276, 279, 277 ), PoolIntArray( 277, 279, 278 ), PoolIntArray( 282, 281, 283 ), PoolIntArray( 283, 281, 280 ), PoolIntArray( 286, 285, 284 ), PoolIntArray( 288, 287, 289 ), PoolIntArray( 289, 287, 290 ), PoolIntArray( 292, 291, 293 ), PoolIntArray( 293, 291, 294 ), PoolIntArray( 294, 291, 295 ) ]
cell/size = 0.1
cell/height = 1.5
agent/height = 3.0
agent/radius = 6.0

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="CubeMesh" id=3]

[sub_resource type="CapsuleShape" id=4]
radius = 0.870613
height = 0.002

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0, 0.862745, 0.278431, 1 )

[sub_resource type="SpatialMaterial" id=6]

[sub_resource type="SpatialMaterial" id=7]
albedo_color = Color( 0.12549, 0, 1, 1 )

[sub_resource type="SphereShape" id=8]

[node name="Spatial" type="Spatial"]

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 1 )

[node name="GroundMesh" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 0.5, 0, 0, 0, -2.18557e-08, -0.1, 0, 0.5, -4.37114e-09, -3.51712, -3.48665, -3.53395 )
material_override = SubResource( 2 )
mesh = ExtResource( 4 )
material/0 = null

[node name="MeshInstance" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 30.317, 0, 0, 0, 4, 0, 0, 0, 4, 6.45282, 0, -17.8603 )
mesh = SubResource( 3 )
material/0 = null

[node name="MeshInstance2" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 20.983, -25.2405, 0, -43.0787 )
mesh = SubResource( 3 )
material/0 = null

[node name="MeshInstance3" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 26.916, -18.5977, 0, 43.163 )
mesh = SubResource( 3 )
material/0 = null

[node name="Enemy" parent="Navigation" instance=ExtResource( 2 )]

[node name="Tower" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, 40 )

[node name="Base" type="MeshInstance" parent="Tower"]
transform = Transform( 5, 0, 0, 0, 5, 0, 0, 0, 5, -5.42576, -1.18912, 4.73218 )
mesh = ExtResource( 3 )
material/0 = null
material/1 = null

[node name="CollisionShape" type="CollisionShape" parent="Tower"]
transform = Transform( 7, 0, 0, 0, 14, 0, 0, 0, 7, -5.32879, 10.0711, 4.80378 )
shape = SubResource( 4 )

[node name="Torreta" type="StaticBody" parent="."]
transform = Transform( 3.57746e-08, 0, -3, 0, 3, 0, 3, 0, 3.57746e-08, 40, 0, 10 )
script = ExtResource( 1 )

[node name="Torreta2" type="MeshInstance" parent="Torreta"]
transform = Transform( 1, 0, 1.77636e-15, 0, 1, 0, -1.77636e-15, 0, 1, 0, 0, 0 )
mesh = ExtResource( 5 )
material/0 = SubResource( 5 )
material/1 = SubResource( 6 )
material/2 = SubResource( 7 )

[node name="Range" type="Area" parent="Torreta"]

[node name="CollisionShape" type="CollisionShape" parent="Torreta/Range"]
transform = Transform( 15, 0, 0, 0, 1, 0, 0, 0, 15, 0, 0, 0 )
shape = SubResource( 8 )

[node name="RayCast" type="RayCast" parent="Torreta"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1.19249e-08, 1, 0, -1, 1.19249e-08, 0, 91.957, 0 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1e+06, 0 )
[connection signal="body_entered" from="Torreta/Range" to="Torreta" method="_on_enter"]
[connection signal="body_exited" from="Torreta/Range" to="Torreta" method="_on_leave"]
